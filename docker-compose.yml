version: '3.8'

services:
  mongo:
    image: mongo:6.0
    container_name: mongodb
    restart: unless-stopped
    ports:
      - "27017:27017"
    #environment:
      # Change these for production; consider using an .env file or Docker secrets
      #MONGO_INITDB_ROOT_USERNAME: root
      #MONGO_INITDB_ROOT_PASSWORD: example
    volumes:
      # Bind mount the host folder C:\\mongodb data into the container so
      # MongoDB files persist on the Windows host between container restarts.
      # Note: quote the path because it contains a space. Use forward slashes
      # for compatibility with Docker on Windows.
      - 'C:/mongodb data:/data/db'
  qdrant:
    image: qdrant/qdrant
    container_name: qdrant
    restart: unless-stopped
    ports:
      - "6333:6333"
    volumes:
      # Bind mount for Qdrant storage on Windows
      # Use forward slashes and quote the path for compatibility
      - 'C:/qdrant_data:/qdrant/storage'

  redis:
    image: redis:7.2
    container_name: redis
    restart: unless-stopped
    ports:
      - "6379:6379"
    volumes:
      - 'C:/redis_data:/data'

# We're using host bind mounts (no named Docker volumes). Make sure the
# C: drive (or the specific host path) is shared with Docker Desktop
# (Settings > Resources > File Sharing) and that permissions allow Docker
# to write to the folder. You can create the folders manually if needed.
# For Redis, ensure C:/redis_data exists.
